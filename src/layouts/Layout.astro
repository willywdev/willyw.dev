---
const { title } = Astro.props;
import ViewTransitions from "astro/components/ViewTransitions.astro";

import Footer from "./Footer.astro";
import Header from "./Header.astro";
import "./Layout.css";

const url = Astro.request.url;
const urlArray = url.split("/");
const currentSlug = urlArray[urlArray.length - 1];
console.log(currentSlug);
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Astro description" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <ViewTransitions />
  </head>
  <body>
    <Header />
    <slot />
    <Footer />
    <nav>
      <ul class="pager">
        <a href="/">
          {
            !currentSlug ? (
              <span class="current">
                <li>Home</li>
              </span>
            ) : (
              <li>Home</li>
            )
          }
        </a>
        <span class="bar">|</span>
        <a href="/blog">
          {
            currentSlug === "blog" ? (
              <span class="current">
                <li>Blog</li>
              </span>
            ) : (
              <li>Blog</li>
            )
          }
        </a>
        <span class="bar">|</span>
        <a href="/more">
          {
            currentSlug === "more" ? (
              <span class="current">
                <li>More</li>
              </span>
            ) : (
              <li>More</li>
            )
          }
        </a>
      </ul>
    </nav>

    <style>
      nav {
        position: sticky;
        margin: 0 auto;
        bottom: 0.6rem;
        background-color: #5b6467;
        background-image: linear-gradient(360deg, #2a2d2d 0%, #595d5f 74%);
        color: white;
        padding: 0.8rem 1.5rem;
        border-radius: 25px;
        box-shadow:
          rgba(0, 0, 0, 0.3) 0px 19px 38px,
          rgba(0, 0, 0, 0.22) 0px 15px 12px;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      ul {
        list-style-type: none;
        display: flex;
        gap: 1rem;
        font-size: 1.1rem;
      }
      .bar {
        opacity: 0.4;
      }
      a {
        position: relative;
      }
      a:hover {
        color: rgb(var(--accent-light));
        transform: scale(1.1);
      }
      .current {
        color: rgb(var(--accent-light));
        width: min-content;
      }
      .current::after {
        content: ".";
        position: absolute;
        font-size: 2rem;
        left: 42%;
        bottom: -62%;
      }
    </style>
  </body>
</html>
